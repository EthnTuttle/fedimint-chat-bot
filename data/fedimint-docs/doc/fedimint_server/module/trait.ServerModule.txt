☰
logo [../../static.files/rust-logo-151179464ae7ed46.svg]
../../fedimint_server/index.html




logo [../../static.files/rust-logo-151179464ae7ed46.svg]
../../fedimint_server/index.html


SERVERMODULE


REQUIRED ASSOCIATED TYPES

 * Common
 * Gen
 * VerificationCache


REQUIRED METHODS

 * api_endpoints
 * apply_input
 * apply_output
 * audit
 * await_consensus_proposal
 * build_verification_cache
 * consensus_proposal
 * output_status
 * process_consensus_item
 * validate_input
 * validate_output


PROVIDED METHODS

 * decoder
 * module_kind


IMPLEMENTORS


IN FEDIMINT_SERVER::MODULE [index.html]

? [../../help.html]
Change settings [../../static.files/wheel-5ec35bf9ca753509.svg]../../settings.html


TRAIT FEDIMINT_SERVER [../index.html]::MODULE [index.html]::SERVERMODULECopy item path
[../../static.files/clipboard-7571035ce49a181d.svg]

[−]

pub trait ServerModule: Debughttps://doc.rust-lang.org/1.67.0/core/fmt/trait.Debug.html + Sizedhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Sized.html {
    type Common: ModuleCommontrait.ModuleCommon.html;
    type Gen: ServerModuleGentrait.ServerModuleGen.html;
    type VerificationCache: VerificationCache../core/server/trait.VerificationCache.html;

Show 13 methods    fn await_consensus_proposal<'a, 'life0, 'life1, 'async_trait>(
        &'a self,
        dbtx: &'life0 mut ModuleDatabaseTransaction<'life1, u16https://doc.rust-lang.org/1.67.0/std/primitive.u16.html>
    ) -> Pinhttps://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html<Boxhttps://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html<dyn Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = ()https://doc.rust-lang.org/1.67.0/std/primitive.unit.html> + Sendhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html + 'async_trait, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html>>
    where
        'a: 'async_trait,
        'life0: 'async_trait,
        'life1: 'async_trait,
        Self: 'async_trait;
    fn consensus_proposal<'a, 'life0, 'life1, 'async_trait>(
        &'a self,
        dbtx: &'life0 mut ModuleDatabaseTransaction<'life1, u16https://doc.rust-lang.org/1.67.0/std/primitive.u16.html>
    ) -> Pinhttps://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html<Boxhttps://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html<dyn Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = ConsensusProposalenum.ConsensusProposal.html<<Self::Common../trait.ServerModule.html#associatedtype.Common as ModuleCommontrait.ModuleCommon.html>::ConsensusItemtrait.ModuleCommon.html#associatedtype.ConsensusItem>> + Sendhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html + 'async_trait, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html>>
    where
        'a: 'async_trait,
        'life0: 'async_trait,
        'life1: 'async_trait,
        Self: 'async_trait;
    fn process_consensus_item<'a, 'b, 'life0, 'async_trait>(
        &'a self,
        dbtx: &'life0 mut ModuleDatabaseTransaction<'b, u16https://doc.rust-lang.org/1.67.0/std/primitive.u16.html>,
        consensus_item: <Self::Common../trait.ServerModule.html#associatedtype.Common as ModuleCommontrait.ModuleCommon.html>::ConsensusItemtrait.ModuleCommon.html#associatedtype.ConsensusItem,
        peer_id: PeerId../struct.PeerId.html
    ) -> Pinhttps://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html<Boxhttps://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html<dyn Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = Resulthttps://doc.rust-lang.org/1.67.0/core/result/enum.Result.html<ConsensusDecision../enum.ConsensusDecision.html, Errorhttps://docs.rs/anyhow/1.0.71/anyhow/struct.Error.html>> + Sendhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html + 'async_trait, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html>>
    where
        'a: 'async_trait,
        'b: 'async_trait,
        'life0: 'async_trait,
        Self: 'async_trait;
    fn build_verification_cache<'a>(
        &'a self,
        inputs: impl Iteratorhttps://doc.rust-lang.org/1.67.0/core/iter/traits/iterator/trait.Iterator.html<Item = &'a <Self::Common../trait.ServerModule.html#associatedtype.Common as ModuleCommontrait.ModuleCommon.html>::Inputtrait.ModuleCommon.html#associatedtype.Input> + MaybeSend../task/trait.MaybeSend.html
    ) -> Self::VerificationCache../trait.ServerModule.html#associatedtype.VerificationCache;
    fn validate_input<'a, 'b, 'life0, 'life1, 'life2, 'async_trait>(
        &'life0 self,
        dbtx: &'life1 mut ModuleDatabaseTransaction<'b, u16https://doc.rust-lang.org/1.67.0/std/primitive.u16.html>,
        verification_cache: &'life2 Self::VerificationCache../trait.ServerModule.html#associatedtype.VerificationCache,
        input: &'a <Self::Common../trait.ServerModule.html#associatedtype.Common as ModuleCommontrait.ModuleCommon.html>::Inputtrait.ModuleCommon.html#associatedtype.Input
    ) -> Pinhttps://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html<Boxhttps://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html<dyn Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = Resulthttps://doc.rust-lang.org/1.67.0/core/result/enum.Result.html<InputMetastruct.InputMeta.html, ModuleErrorenum.ModuleError.html>> + Sendhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html + 'async_trait, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html>>
    where
        'a: 'async_trait,
        'b: 'async_trait,
        'life0: 'async_trait,
        'life1: 'async_trait,
        'life2: 'async_trait,
        Self: 'async_trait;
    fn apply_input<'a, 'b, 'c, 'life0, 'life1, 'async_trait>(
        &'a self,
        dbtx: &'life0 mut ModuleDatabaseTransaction<'c, u16https://doc.rust-lang.org/1.67.0/std/primitive.u16.html>,
        input: &'b <Self::Common../trait.ServerModule.html#associatedtype.Common as ModuleCommontrait.ModuleCommon.html>::Inputtrait.ModuleCommon.html#associatedtype.Input,
        verification_cache: &'life1 Self::VerificationCache../trait.ServerModule.html#associatedtype.VerificationCache
    ) -> Pinhttps://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html<Boxhttps://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html<dyn Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = Resulthttps://doc.rust-lang.org/1.67.0/core/result/enum.Result.html<InputMetastruct.InputMeta.html, ModuleErrorenum.ModuleError.html>> + Sendhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html + 'async_trait, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html>>
    where
        'a: 'async_trait,
        'b: 'async_trait,
        'c: 'async_trait,
        'life0: 'async_trait,
        'life1: 'async_trait,
        Self: 'async_trait;
    fn validate_output<'life0, 'life1, 'life2, 'life3, 'async_trait>(
        &'life0 self,
        dbtx: &'life1 mut ModuleDatabaseTransaction<'life2, u16https://doc.rust-lang.org/1.67.0/std/primitive.u16.html>,
        output: &'life3 <Self::Common../trait.ServerModule.html#associatedtype.Common as ModuleCommontrait.ModuleCommon.html>::Outputtrait.ModuleCommon.html#associatedtype.Output
    ) -> Pinhttps://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html<Boxhttps://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html<dyn Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = Resulthttps://doc.rust-lang.org/1.67.0/core/result/enum.Result.html<TransactionItemAmountstruct.TransactionItemAmount.html, ModuleErrorenum.ModuleError.html>> + Sendhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html + 'async_trait, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html>>
    where
        'life0: 'async_trait,
        'life1: 'async_trait,
        'life2: 'async_trait,
        'life3: 'async_trait,
        Self: 'async_trait;
    fn apply_output<'a, 'b, 'life0, 'async_trait>(
        &'a self,
        dbtx: &'life0 mut ModuleDatabaseTransaction<'b, u16https://doc.rust-lang.org/1.67.0/std/primitive.u16.html>,
        output: &'a <Self::Common../trait.ServerModule.html#associatedtype.Common as ModuleCommontrait.ModuleCommon.html>::Outputtrait.ModuleCommon.html#associatedtype.Output,
        out_point: OutPoint../struct.OutPoint.html
    ) -> Pinhttps://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html<Boxhttps://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html<dyn Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = Resulthttps://doc.rust-lang.org/1.67.0/core/result/enum.Result.html<TransactionItemAmountstruct.TransactionItemAmount.html, ModuleErrorenum.ModuleError.html>> + Sendhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html + 'async_trait, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html>>
    where
        'a: 'async_trait,
        'b: 'async_trait,
        'life0: 'async_trait,
        Self: 'async_trait;
    fn output_status<'life0, 'life1, 'life2, 'async_trait>(
        &'life0 self,
        dbtx: &'life1 mut ModuleDatabaseTransaction<'life2, u16https://doc.rust-lang.org/1.67.0/std/primitive.u16.html>,
        out_point: OutPoint../struct.OutPoint.html
    ) -> Pinhttps://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html<Boxhttps://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html<dyn Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = Optionhttps://doc.rust-lang.org/1.67.0/core/option/enum.Option.html<<Self::Common../trait.ServerModule.html#associatedtype.Common as ModuleCommontrait.ModuleCommon.html>::OutputOutcometrait.ModuleCommon.html#associatedtype.OutputOutcome>> + Sendhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html + 'async_trait, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html>>
    where
        'life0: 'async_trait,
        'life1: 'async_trait,
        'life2: 'async_trait,
        Self: 'async_trait;
    fn audit<'life0, 'life1, 'life2, 'life3, 'async_trait>(
        &'life0 self,
        dbtx: &'life1 mut ModuleDatabaseTransaction<'life2, u16https://doc.rust-lang.org/1.67.0/std/primitive.u16.html>,
        audit: &'life3 mut Auditaudit/struct.Audit.html
    ) -> Pinhttps://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html<Boxhttps://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html<dyn Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = ()https://doc.rust-lang.org/1.67.0/std/primitive.unit.html> + Sendhttps://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html + 'async_trait, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html>>
    where
        'life0: 'async_trait,
        'life1: 'async_trait,
        'life2: 'async_trait,
        'life3: 'async_trait,
        Self: 'async_trait;
    fn api_endpoints(&self) -> Vechttps://doc.rust-lang.org/1.67.0/alloc/vec/struct.Vec.html<ApiEndpointstruct.ApiEndpoint.html<Self>, Globalhttps://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html> ⓘ;

    fn module_kind() -> ModuleKind../core/struct.ModuleKind.html { ... }
    fn decoder() -> Decoder../core/struct.Decoder.html { ... }
}


REQUIRED ASSOCIATED TYPES§

TYPE COMMON: MODULECOMMON [trait.ModuleCommon.html]

TYPE GEN: SERVERMODULEGEN [trait.ServerModuleGen.html]

TYPE VERIFICATIONCACHE: VERIFICATIONCACHE [../core/server/trait.VerificationCache.html]


REQUIRED METHODS§

FN AWAIT_CONSENSUS_PROPOSAL<'A, 'LIFE0, 'LIFE1, 'ASYNC_TRAIT>(
    &'A SELF,
    DBTX: &'LIFE0 MUT MODULEDATABASETRANSACTION<'LIFE1, U16 [https://doc.rust-lang.org/1.67.0/std/primitive.u16.html]>
) -> PIN [https://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html]<BOX
[https://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html]<DYN FUTURE
[https://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html]<OUTPUT = ()
[https://doc.rust-lang.org/1.67.0/std/primitive.unit.html]> + SEND [https://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html]
+ 'ASYNC_TRAIT, GLOBAL [https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]>>WHERE
    'A: 'ASYNC_TRAIT,
    'LIFE0: 'ASYNC_TRAIT,
    'LIFE1: 'ASYNC_TRAIT,
    SELF: 'ASYNC_TRAIT,

Blocks until a new consensus_proposal is available.

FN CONSENSUS_PROPOSAL<'A, 'LIFE0, 'LIFE1, 'ASYNC_TRAIT>(
    &'A SELF,
    DBTX: &'LIFE0 MUT MODULEDATABASETRANSACTION<'LIFE1, U16 [https://doc.rust-lang.org/1.67.0/std/primitive.u16.html]>
) -> PIN [https://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html]<BOX
[https://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html]<DYN FUTURE
[https://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html]<OUTPUT = CONSENSUSPROPOSAL
[enum.ConsensusProposal.html]<<SELF::COMMON [../trait.ServerModule.html#associatedtype.Common] AS MODULECOMMON
[trait.ModuleCommon.html]>::CONSENSUSITEM [trait.ModuleCommon.html#associatedtype.ConsensusItem]>> + SEND
[https://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html] + 'ASYNC_TRAIT, GLOBAL
[https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]>>WHERE
    'A: 'ASYNC_TRAIT,
    'LIFE0: 'ASYNC_TRAIT,
    'LIFE1: 'ASYNC_TRAIT,
    SELF: 'ASYNC_TRAIT,

This module’s contribution to the next consensus proposal

FN PROCESS_CONSENSUS_ITEM<'A, 'B, 'LIFE0, 'ASYNC_TRAIT>(
    &'A SELF,
    DBTX: &'LIFE0 MUT MODULEDATABASETRANSACTION<'B, U16 [https://doc.rust-lang.org/1.67.0/std/primitive.u16.html]>,
    CONSENSUS_ITEM: <SELF::COMMON [../trait.ServerModule.html#associatedtype.Common] AS MODULECOMMON
[trait.ModuleCommon.html]>::CONSENSUSITEM [trait.ModuleCommon.html#associatedtype.ConsensusItem],
    PEER_ID: PEERID [../struct.PeerId.html]
) -> PIN [https://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html]<BOX
[https://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html]<DYN FUTURE
[https://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html]<OUTPUT = RESULT
[https://doc.rust-lang.org/1.67.0/core/result/enum.Result.html]<CONSENSUSDECISION [../enum.ConsensusDecision.html], ERROR
[https://docs.rs/anyhow/1.0.71/anyhow/struct.Error.html]>> + SEND [https://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html] +
'ASYNC_TRAIT, GLOBAL [https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]>>WHERE
    'A: 'ASYNC_TRAIT,
    'B: 'ASYNC_TRAIT,
    'LIFE0: 'ASYNC_TRAIT,
    SELF: 'ASYNC_TRAIT,

This function is called once for every consensus item. If the function returns Ok(ConsensusDecision::Accept) then the item changed
the modules state and has to be included in the history of the federation, otherwise it may safely be discarded. We return an
error for actually invalid items while we return Ok(ConsensusDecision::Discard) for merely superfluous items.

FN BUILD_VERIFICATION_CACHE<'A>(
    &'A SELF,
    INPUTS: IMPL ITERATOR [https://doc.rust-lang.org/1.67.0/core/iter/traits/iterator/trait.Iterator.html]<ITEM = &'A
<SELF::COMMON [../trait.ServerModule.html#associatedtype.Common] AS MODULECOMMON [trait.ModuleCommon.html]>::INPUT
[trait.ModuleCommon.html#associatedtype.Input]> + MAYBESEND [../task/trait.MaybeSend.html]
) -> SELF::VERIFICATIONCACHE [../trait.ServerModule.html#associatedtype.VerificationCache]

Some modules may have slow to verify inputs that would block transaction processing. If the slow part of verification can be
modeled as a pure function not involving any system state we can build a lookup table in a hyper-parallelized manner. This
function is meant for constructing such lookup tables.

FN VALIDATE_INPUT<'A, 'B, 'LIFE0, 'LIFE1, 'LIFE2, 'ASYNC_TRAIT>(
    &'LIFE0 SELF,
    DBTX: &'LIFE1 MUT MODULEDATABASETRANSACTION<'B, U16 [https://doc.rust-lang.org/1.67.0/std/primitive.u16.html]>,
    VERIFICATION_CACHE: &'LIFE2 SELF::VERIFICATIONCACHE [../trait.ServerModule.html#associatedtype.VerificationCache],
    INPUT: &'A <SELF::COMMON [../trait.ServerModule.html#associatedtype.Common] AS MODULECOMMON [trait.ModuleCommon.html]>::INPUT
[trait.ModuleCommon.html#associatedtype.Input]
) -> PIN [https://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html]<BOX
[https://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html]<DYN FUTURE
[https://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html]<OUTPUT = RESULT
[https://doc.rust-lang.org/1.67.0/core/result/enum.Result.html]<INPUTMETA [struct.InputMeta.html], MODULEERROR
[enum.ModuleError.html]>> + SEND [https://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html] + 'ASYNC_TRAIT, GLOBAL
[https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]>>WHERE
    'A: 'ASYNC_TRAIT,
    'B: 'ASYNC_TRAIT,
    'LIFE0: 'ASYNC_TRAIT,
    'LIFE1: 'ASYNC_TRAIT,
    'LIFE2: 'ASYNC_TRAIT,
    SELF: 'ASYNC_TRAIT,

Validate a transaction input before submitting it to the unconfirmed transaction pool. This function has no side effects and may
be called at any time. False positives due to outdated database state are ok since they get filtered out after consensus has been
reached on them and merely generate a warning.

FN APPLY_INPUT<'A, 'B, 'C, 'LIFE0, 'LIFE1, 'ASYNC_TRAIT>(
    &'A SELF,
    DBTX: &'LIFE0 MUT MODULEDATABASETRANSACTION<'C, U16 [https://doc.rust-lang.org/1.67.0/std/primitive.u16.html]>,
    INPUT: &'B <SELF::COMMON [../trait.ServerModule.html#associatedtype.Common] AS MODULECOMMON [trait.ModuleCommon.html]>::INPUT
[trait.ModuleCommon.html#associatedtype.Input],
    VERIFICATION_CACHE: &'LIFE1 SELF::VERIFICATIONCACHE [../trait.ServerModule.html#associatedtype.VerificationCache]
) -> PIN [https://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html]<BOX
[https://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html]<DYN FUTURE
[https://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html]<OUTPUT = RESULT
[https://doc.rust-lang.org/1.67.0/core/result/enum.Result.html]<INPUTMETA [struct.InputMeta.html], MODULEERROR
[enum.ModuleError.html]>> + SEND [https://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html] + 'ASYNC_TRAIT, GLOBAL
[https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]>>WHERE
    'A: 'ASYNC_TRAIT,
    'B: 'ASYNC_TRAIT,
    'C: 'ASYNC_TRAIT,
    'LIFE0: 'ASYNC_TRAIT,
    'LIFE1: 'ASYNC_TRAIT,
    SELF: 'ASYNC_TRAIT,

Try to spend a transaction input. On success all necessary updates will be part of the database transaction. On failure (e.g.
double spend) the database transaction is rolled back and the operation will take no effect.

FN VALIDATE_OUTPUT<'LIFE0, 'LIFE1, 'LIFE2, 'LIFE3, 'ASYNC_TRAIT>(
    &'LIFE0 SELF,
    DBTX: &'LIFE1 MUT MODULEDATABASETRANSACTION<'LIFE2, U16 [https://doc.rust-lang.org/1.67.0/std/primitive.u16.html]>,
    OUTPUT: &'LIFE3 <SELF::COMMON [../trait.ServerModule.html#associatedtype.Common] AS MODULECOMMON
[trait.ModuleCommon.html]>::OUTPUT [trait.ModuleCommon.html#associatedtype.Output]
) -> PIN [https://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html]<BOX
[https://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html]<DYN FUTURE
[https://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html]<OUTPUT = RESULT
[https://doc.rust-lang.org/1.67.0/core/result/enum.Result.html]<TRANSACTIONITEMAMOUNT [struct.TransactionItemAmount.html],
MODULEERROR [enum.ModuleError.html]>> + SEND [https://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html] + 'ASYNC_TRAIT, GLOBAL
[https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]>>WHERE
    'LIFE0: 'ASYNC_TRAIT,
    'LIFE1: 'ASYNC_TRAIT,
    'LIFE2: 'ASYNC_TRAIT,
    'LIFE3: 'ASYNC_TRAIT,
    SELF: 'ASYNC_TRAIT,

Validate a transaction output before submitting it to the unconfirmed transaction pool. This function has no side effects and may
be called at any time. False positives due to outdated database state are ok since they get filtered out after consensus has been
reached on them and merely generate a warning.

FN APPLY_OUTPUT<'A, 'B, 'LIFE0, 'ASYNC_TRAIT>(
    &'A SELF,
    DBTX: &'LIFE0 MUT MODULEDATABASETRANSACTION<'B, U16 [https://doc.rust-lang.org/1.67.0/std/primitive.u16.html]>,
    OUTPUT: &'A <SELF::COMMON [../trait.ServerModule.html#associatedtype.Common] AS MODULECOMMON
[trait.ModuleCommon.html]>::OUTPUT [trait.ModuleCommon.html#associatedtype.Output],
    OUT_POINT: OUTPOINT [../struct.OutPoint.html]
) -> PIN [https://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html]<BOX
[https://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html]<DYN FUTURE
[https://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html]<OUTPUT = RESULT
[https://doc.rust-lang.org/1.67.0/core/result/enum.Result.html]<TRANSACTIONITEMAMOUNT [struct.TransactionItemAmount.html],
MODULEERROR [enum.ModuleError.html]>> + SEND [https://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html] + 'ASYNC_TRAIT, GLOBAL
[https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]>>WHERE
    'A: 'ASYNC_TRAIT,
    'B: 'ASYNC_TRAIT,
    'LIFE0: 'ASYNC_TRAIT,
    SELF: 'ASYNC_TRAIT,

Try to create an output (e.g. issue notes, peg-out BTC, …). On success all necessary updates to the database will be part of the
database transaction. On failure (e.g. double spend) the database transaction is rolled back and the operation will take no
effect.

The supplied out_point identifies the operation (e.g. a peg-out or note issuance) and can be used to retrieve its outcome later
using output_status.

FN OUTPUT_STATUS<'LIFE0, 'LIFE1, 'LIFE2, 'ASYNC_TRAIT>(
    &'LIFE0 SELF,
    DBTX: &'LIFE1 MUT MODULEDATABASETRANSACTION<'LIFE2, U16 [https://doc.rust-lang.org/1.67.0/std/primitive.u16.html]>,
    OUT_POINT: OUTPOINT [../struct.OutPoint.html]
) -> PIN [https://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html]<BOX
[https://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html]<DYN FUTURE
[https://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html]<OUTPUT = OPTION
[https://doc.rust-lang.org/1.67.0/core/option/enum.Option.html]<<SELF::COMMON [../trait.ServerModule.html#associatedtype.Common]
AS MODULECOMMON [trait.ModuleCommon.html]>::OUTPUTOUTCOME [trait.ModuleCommon.html#associatedtype.OutputOutcome]>> + SEND
[https://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html] + 'ASYNC_TRAIT, GLOBAL
[https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]>>WHERE
    'LIFE0: 'ASYNC_TRAIT,
    'LIFE1: 'ASYNC_TRAIT,
    'LIFE2: 'ASYNC_TRAIT,
    SELF: 'ASYNC_TRAIT,

Retrieve the current status of the output. Depending on the module this might contain data needed by the client to access funds or
give an estimate of when funds will be available. Returns None if the output is unknown, NOT if it is just not ready yet.

FN AUDIT<'LIFE0, 'LIFE1, 'LIFE2, 'LIFE3, 'ASYNC_TRAIT>(
    &'LIFE0 SELF,
    DBTX: &'LIFE1 MUT MODULEDATABASETRANSACTION<'LIFE2, U16 [https://doc.rust-lang.org/1.67.0/std/primitive.u16.html]>,
    AUDIT: &'LIFE3 MUT AUDIT [audit/struct.Audit.html]
) -> PIN [https://doc.rust-lang.org/1.67.0/core/pin/struct.Pin.html]<BOX
[https://doc.rust-lang.org/1.67.0/alloc/boxed/struct.Box.html]<DYN FUTURE
[https://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html]<OUTPUT = ()
[https://doc.rust-lang.org/1.67.0/std/primitive.unit.html]> + SEND [https://doc.rust-lang.org/1.67.0/core/marker/trait.Send.html]
+ 'ASYNC_TRAIT, GLOBAL [https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]>>WHERE
    'LIFE0: 'ASYNC_TRAIT,
    'LIFE1: 'ASYNC_TRAIT,
    'LIFE2: 'ASYNC_TRAIT,
    'LIFE3: 'ASYNC_TRAIT,
    SELF: 'ASYNC_TRAIT,

Queries the database and returns all assets and liabilities of the module.

Summing over all modules, if liabilities > assets then an error has occurred in the database and consensus should halt.

FN API_ENDPOINTS(&SELF) -> VEC [https://doc.rust-lang.org/1.67.0/alloc/vec/struct.Vec.html]<APIENDPOINT
[struct.ApiEndpoint.html]<SELF>, GLOBAL [https://doc.rust-lang.org/1.67.0/alloc/alloc/struct.Global.html]> Ⓘ

Returns a list of custom API endpoints defined by the module. These are made available both to users as well as to other modules.
They thus should be deterministic, only dependant on their input and the current epoch.


PROVIDED METHODS§

FN MODULE_KIND() -> MODULEKIND [../core/struct.ModuleKind.html]

FN DECODER() -> DECODER [../core/struct.Decoder.html]

Returns a decoder for the following associated types of this module:

 * Input
 * Output
 * OutputOutcome
 * ConsensusItem


IMPLEMENTORS§


