☰
logo [../../static.files/rust-logo-151179464ae7ed46.svg]
../../fedimint_testing/index.html




logo [../../static.files/rust-logo-151179464ae7ed46.svg]
../../fedimint_testing/index.html


IN FEDIMINT_TESTING::DB [index.html]

? [../../help.html]
Change settings [../../static.files/wheel-5ec35bf9ca753509.svg]../../settings.html


FUNCTION FEDIMINT_TESTING [../index.html]::DB [index.html]::VALIDATE_MIGRATIONSCopy item path
[../../static.files/clipboard-7571035ce49a181d.svg]

source [../../src/fedimint_testing/db.rs.html#73-97] · [−]

pub async fn validate_migrations<F, Fut>(
    db_prefix: &strhttps://doc.rust-lang.org/1.67.0/std/primitive.str.html,
    validate: F,
    decoders: ModuleDecoderRegistry../../fedimint_core/module/registry/type.ModuleDecoderRegistry.html
)where
    F: Fnhttps://doc.rust-lang.org/1.67.0/core/ops/function/trait.Fn.html(Database../../fedimint_core/db/struct.Database.html) -> Fut,
    Fut: Futurehttps://doc.rust-lang.org/1.67.0/core/future/future/trait.Future.html<Output = ()https://doc.rust-lang.org/1.67.0/std/primitive.unit.html>,

Expand description

Iterates over all of the databases supplied in the database backup directory. First, a temporary database will be created and the
contents will be populated from the database backup directory. Next, this function will execute the provided validate closure. The
validate closure is expected to do any validation necessary on the temporary database, such as applying the appropriate database
migrations and then reading all of the data to verify the migrations were successful.

